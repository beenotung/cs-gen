<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>example Client APIs</title>
  <meta name="format-detection" content="telephone=no">
  <meta name="msapplication-tap-highlight" content="no">
  <style>
    #content {
      display: flex;
      flex-direction: row;
    }
    @media only screen
    and (orientation: portrait) {
      #content {
        flex-direction: column;
      }
    }
    #content > * {
      flex-grow: 1;
    }
    code {
      white-space: pre-wrap;
      font-size: large;
    }
  </style>
</head>
<body>
  <h1>example Client APIs</h1>
  <div id="content">
    <nav>
      <h2>Type Aliases</h2>
      <ul>
      </ul>
      <h2>Command APIs</h2>
      <ul>
        <li><a href="#CancelSubscribe">CancelSubscribe</a></li>
        <li><a href="#SetKV">SetKV</a></li>
      </ul>
      <h2>Query APIs</h2>
      <ul>
        <li><a href="#GetValue">GetValue</a></li>
      </ul>
      <h2>Subscribe APIs</h2>
      <ul>
        <li><a href="#SubscribeByKey">SubscribeByKey</a></li>
      </ul>
    </nav>
    <noscript><span style="color: red">Javascript is required to show type of In and Out<span></noscript>
    <div>
      <h3>In</h3>
      <code id="in"></code>
    </div>
    <div>
      <h3>Out</h3>
      <code id="out"></code>
    </div>
  </div>
<script>
window.onhashchange=function(){
  var Type = window.location.hash.substr(1);
  var In = 'unknown';
  var Out = 'unknown';
  switch (Type) {
    
    case 'CancelSubscribe': {
      In = `{ id: string }`;
      Out = `{ Success: false, Reason: "no active session matched" | "no active channel matched" } | { Success: true }`;
      break;
    }
    case 'SetKV': {
      In = `{ Key: string, Value: string }`;
      Out = `{ Success: false, Reason: never } | { Success: true }`;
      break;
    }
    case 'GetValue': {
      In = `{ Key: string }`;
      Out = `{ Success: false, Reason: "KeyNotFound" } | ({ Success: true } & { Value: string })`;
      break;
    }
    case 'SubscribeByKey': {
      In = `{ Key: string }`;
      Out = `{ Value: string }`;
      break;
    }
    default:
      console.error('unknown Type:', Type);
  }
  document.getElementById('in').textContent = In;
  document.getElementById('out').textContent = Out;
};
</script>
</body>
</html>
